{
  "master": {
    "tasks": [
      {
        "id": 1,
        "title": "Create SundialKitCore protocols and types",
        "description": "Define core protocols (NetworkMonitoring, ConnectivityManagement) and value types with Sendable conformance for plugin system",
        "status": "done",
        "dependencies": [
          "11"
        ],
        "priority": "high",
        "details": "Create SundialKitCore target with protocol definitions:\n1. NetworkMonitoring protocol with state queries (pathStatus, isExpensive, isConstrained) and lifecycle methods\n2. ConnectivityManagement protocol with state queries and messaging methods\n3. Core value types: PathStatus enum (with Interface OptionSet and UnsatisfiedReason), ActivationState enum\n4. Typed error enums: NetworkError, ConnectivityError (with granular WCError mapping), SerializationError\n5. Mark ALL types as Sendable for Swift 6.1 compatibility (CRITICAL)\n6. NetworkStateObserver and ConnectivityStateObserver protocols for callback-based notifications\n7. Helper method ConnectivityError.init(wcError:) for WCError mapping\n\nImplementation approach:\n- Use Swift 5.9+ for backwards compatibility\n- Foundation-only dependencies\n- Comprehensive documentation for plugin developers\n- Platform support: iOS 13+, watchOS 6+, tvOS 13+, macOS 10.13+\n\nGitHub Issue: #29 tracks this task with component:core label for Core subsystem work. This task creates the foundation protocols that other components (Network, WatchConnectivity) will implement.\n\nExisting codebase analysis:\n- Current Package.swift uses single SundialKit target - will need restructuring for modular architecture\n- PathStatus enum exists in Sources/SundialKit/Network/PathStatus.swift with Interface OptionSet and UnsatisfiedReason\n- ActivationState enum exists in Sources/SundialKit/WatchConnectivity/ActivationState.swift\n- SundialError enum exists but needs expansion to NetworkError, ConnectivityError, SerializationError\n- PathMonitor protocol exists in Sources/SundialKit/Network/PathMonitor.swift but needs to move to Core\n- No current Sendable conformance - all types need Swift 6.1 compatibility",
        "testStrategy": "Swift Testing migration required. Test protocol conformance, Sendable conformance verification, error mapping accuracy, and type safety. Create mock implementations to verify protocol contracts. Verify compilation with Swift 6.1 strict concurrency checking.",
        "subtasks": [
          {
            "id": 1,
            "title": "Define NetworkMonitoring protocol with lifecycle methods",
            "description": "Create the NetworkMonitoring protocol in SundialKitCore with all required state query properties and lifecycle methods for network monitoring plugins",
            "dependencies": [],
            "details": "Define NetworkMonitoring protocol with: pathStatus property returning PathStatus enum, isExpensive property for cost tracking, isConstrained property for low data mode, start(queue:) method for beginning monitoring, stop() method for cleanup, and proper async/throws annotations where appropriate. Include comprehensive documentation for plugin developers. Reference existing PathMonitor protocol in Sources/SundialKit/Network/PathMonitor.swift for interface patterns.",
            "status": "done",
            "testStrategy": "Create mock implementations to verify protocol requirements, test that conforming types properly expose all required properties and methods",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Define ConnectivityManagement protocol with messaging interfaces",
            "description": "Create the ConnectivityManagement protocol with all state queries and messaging methods required for WatchConnectivity plugin implementations",
            "dependencies": [],
            "details": "Define ConnectivityManagement protocol with: activationState property, isReachable property, isPaired property (iOS only with availability annotations), isPairedAppInstalled property (iOS only), sendMessage methods with async/throws, updateApplicationContext method, activate() lifecycle method. Include platform availability annotations and comprehensive documentation. Reference existing WatchConnectivity module structure.",
            "status": "done",
            "testStrategy": "Test protocol conformance with mock implementations, verify platform-specific property availability, test messaging method signatures",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Create PathStatus enum with Interface and UnsatisfiedReason types",
            "description": "Implement PathStatus enum with nested Interface OptionSet and UnsatisfiedReason enum for comprehensive network state representation",
            "dependencies": [],
            "details": "Migrate existing PathStatus enum from Sources/SundialKit/Network/PathStatus.swift to SundialKitCore. Current implementation has: satisfied(Interface), unsatisfied(UnsatisfiedReason?), requiresConnection, unknown cases. Interface OptionSet includes: cellular, wifi, wiredEthernet, loopback, other. UnsatisfiedReason includes: cellularDenied, localNetworkDenied, notAvailable, wifiDenied, unknown, unsupported. Add Sendable conformance to all types for Swift 6.1 compatibility.",
            "status": "done",
            "testStrategy": "Test all enum cases and OptionSet combinations, verify Sendable conformance, test equatable and hashable implementations",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Implement error enums with WCError mapping helpers",
            "description": "Create NetworkError, ConnectivityError, and SerializationError enums with comprehensive error cases and WCError mapping functionality",
            "dependencies": [],
            "details": "Expand existing SundialError enum from Sources/SundialKit/SundialError.swift into specialized error types. Define NetworkError enum with cases for network-specific failures. Create ConnectivityError enum with granular WCError mapping including: sessionNotActivated, watchAppNotInstalled, notReachable, messageReplyFailed, etc. Add helper initializer ConnectivityError.init(wcError:) for automatic WCError translation. Define SerializationError for encoding/decoding failures. All must conform to Error, Sendable, and LocalizedError.",
            "status": "done",
            "testStrategy": "Test all error cases, verify WCError mapping accuracy, test localized descriptions, ensure Sendable conformance",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Add Sendable conformance and comprehensive documentation",
            "description": "Ensure all types conform to Sendable for Swift 6.1 compatibility and add complete DocC documentation for the entire SundialKitCore module",
            "dependencies": [
              1,
              2,
              3,
              4
            ],
            "details": "Apply Sendable conformance to all protocols, enums, and types in SundialKitCore. Add @unchecked Sendable where necessary with safety documentation. Create comprehensive DocC comments for all public APIs including usage examples, platform availability notes, and migration guidance. Add module-level documentation explaining the plugin architecture and how to implement custom plugins. Migrate existing ActivationState enum from Sources/SundialKit/WatchConnectivity/ActivationState.swift and add Sendable conformance.",
            "status": "done",
            "testStrategy": "Compile with Swift 6.1 strict concurrency checking enabled, verify no Sendable warnings, validate DocC builds without warnings",
            "parentId": "undefined"
          }
        ],
        "complexity": 4,
        "recommendedSubtasks": 5,
        "expansionPrompt": "Break down into: 1) Define NetworkMonitoring protocol with all required methods and properties, 2) Define ConnectivityManagement protocol with messaging interfaces, 3) Create PathStatus enum with nested types (Interface OptionSet, UnsatisfiedReason), 4) Implement typed error enums (NetworkError, ConnectivityError, SerializationError) with WCError mapping helpers, 5) Add Sendable conformance and documentation to all types"
      },
      {
        "id": 2,
        "title": "Extract NetworkMonitor from NetworkObserver",
        "description": "Create non-reactive NetworkMonitor class in SundialKitNetwork target by extracting core logic from v1.0.0 NetworkObserver in Sources/SundialKit/Network/NetworkObserver.swift",
        "status": "done",
        "dependencies": [
          "1"
        ],
        "priority": "high",
        "details": "Extract and refactor NetworkMonitor from Sources/SundialKit/Network/NetworkObserver.swift:\n1. Move core network monitoring logic from NetworkObserver to new NetworkMonitor class in SundialKitNetwork target\n2. Remove all Combine dependencies (Published, PassthroughSubject, AnyCancellable from lines 71-79)\n3. Implement NetworkMonitoring protocol from SundialKitCore\n4. Maintain PathMonitor protocol abstraction from Sources/SundialKit/Network/PathMonitor.swift\n5. Support optional NetworkPing integration from Sources/SundialKit/Network/NetworkPing.swift\n6. Replace pathStatusSubject, isExpensiveSubject, isConstrainedSubject with observer pattern using NetworkStateObserver protocol\n7. Use weak references array for observers to prevent retain cycles\n8. Extract DefaultPathMonitor from Sources/SundialKit/Network/Extensions/NWPathMonitor.swift implementation\n9. Replace Timer.publish and Combine operators with direct Timer/DispatchQueue scheduling for NetworkPing\n10. Thread-safe state management with NSLock for observer array\n11. Platform-specific NWPathMonitor implementation with proper queue handling\n\nKey refactoring from existing NetworkObserver.swift:\n- Replace lines 71-79 PassthroughSubjects with stored properties and observer callbacks\n- Extract onUpdate(path:) method (line 140-142) to work without pathSubject\n- Adapt start/cancel methods (lines 122-138) removing Combine publishers\n- Maintain existing PathMonitor and NetworkPing abstractions\n- Swift 5.9+ compatibility maintaining existing platform support",
        "testStrategy": "Swift Testing required. Port existing test patterns from Tests/SundialKitTests/Network/NetworkObserverTests.swift. Test state changes, observer notifications, PathMonitor mock implementations (MockPathMonitor), NetworkPing integration (MockNetworkPing), thread safety with concurrent observers, platform-specific behavior, and lifecycle management.",
        "subtasks": [
          {
            "id": 1,
            "title": "Create NetworkMonitor class structure implementing NetworkMonitoring protocol",
            "description": "Create the foundational NetworkMonitor class in SundialKitNetwork target with proper imports, class declaration, and NetworkMonitoring protocol conformance",
            "dependencies": [],
            "details": "Create Sources/SundialKitNetwork/NetworkMonitor.swift file. Import Foundation and Network frameworks. Declare public class NetworkMonitor implementing NetworkMonitoring protocol from SundialKitCore. Add private properties for pathMonitor (PathMonitor protocol), networkPing (optional NetworkPing), observerQueue (DispatchQueue), and state storage properties (currentPathStatus, currentIsExpensive, currentIsConstrained). Include thread-safe observer array property using NSLock for synchronization. Add initializer accepting optional PathMonitor and NetworkPing instances similar to NetworkObserver init(monitor:pingOrNil:) from line 109-118.",
            "status": "done",
            "testStrategy": "Test class initialization with mock PathMonitor and NetworkPing. Verify protocol conformance. Test property initialization and default values.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.574Z"
          },
          {
            "id": 2,
            "title": "Extract PathMonitor abstraction and NWPathMonitor implementation from existing code",
            "description": "Move PathMonitor protocol and DefaultPathMonitor implementation from NetworkObserver to separate files in SundialKitNetwork",
            "dependencies": [
              1
            ],
            "details": "Extract PathMonitor protocol from Sources/SundialKit/Network/PathMonitor.swift into Sources/SundialKitNetwork/PathMonitor.swift. Create DefaultPathMonitor class wrapping NWPathMonitor based on the extension in Sources/SundialKit/Network/Extensions/NWPathMonitor.swift (lines 34-38). Replace onPathUpdate handler closure approach with direct callback pattern instead of pathUpdateHandler property. Adapt existing NWPathMonitor wrapper removing any Combine-specific logic. Maintain platform availability checks @available(macOS 10.15, iOS 13, watchOS 6, tvOS 13, *) and proper queue handling. Update NetworkMonitor to use extracted PathMonitor abstraction.",
            "status": "done",
            "testStrategy": "Test PathMonitor protocol with mock implementations. Verify DefaultPathMonitor correctly wraps NWPathMonitor. Test queue handling and path update callbacks.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.576Z"
          },
          {
            "id": 3,
            "title": "Implement observer pattern with weak references and thread-safe state management",
            "description": "Implement NetworkStateObserver protocol and weak reference array for managing multiple observers with thread safety",
            "dependencies": [
              1,
              2
            ],
            "details": "Define NetworkStateObserver protocol in SundialKitCore with methods: networkStateDidChange(pathStatus:isExpensive:isConstrained:). Create WeakObserver wrapper class to hold weak references preventing retain cycles. Implement thread-safe observer management using NSLock: addObserver(), removeObserver(), and private notifyObservers() methods. Ensure all state updates acquire lock before modification. Implement cleanup mechanism to remove deallocated observers. Add observer notification logic to PathMonitor update handler ensuring observers are called on main queue or specified queue. This replaces the pathSubject.map().subscribe() pattern from NetworkObserver lines 113-115.",
            "status": "done",
            "testStrategy": "Test concurrent observer addition/removal. Verify weak references don't create retain cycles. Test observer notifications on state changes. Validate thread safety with multiple concurrent operations.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.578Z"
          },
          {
            "id": 4,
            "title": "Extract and adapt NetworkPing integration logic",
            "description": "Move NetworkPing functionality from NetworkObserver to NetworkMonitor, removing Combine dependencies",
            "dependencies": [
              1,
              2,
              3
            ],
            "details": "Extract NetworkPing protocol from Sources/SundialKit/Network/NetworkPing.swift and remove Combine extensions (lines 93-124). Remove PassthroughSubject pingStatusSubject and replace with direct callback pattern or observer notification. Replace Timer.publish().autoconnect().prepend() pattern (lines 104-112) with Timer.scheduledTimer or DispatchSourceTimer. Remove Publishers.CombineLatest and flatMap operators (lines 114-121) with direct scheduling logic. Add pingStatus property to NetworkMonitor state. Integrate ping results into observer notifications. Handle ping failures and timeout scenarios. Ensure optional ping support - NetworkMonitor should function without NetworkPing instance. Maintain existing ping interval and timeout configurations from timeInterval property.",
            "status": "done",
            "testStrategy": "Test NetworkMonitor with and without NetworkPing. Verify ping scheduling and result handling. Test timeout scenarios and failure cases. Mock NetworkPing for controlled testing.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.579Z"
          },
          {
            "id": 5,
            "title": "Remove Combine dependencies and replace with stored properties",
            "description": "Refactor all Combine-specific code replacing @Published properties and PassthroughSubjects with regular stored properties",
            "dependencies": [
              1,
              2,
              3,
              4
            ],
            "details": "Remove all Combine imports from NetworkMonitor. Replace NetworkObserver's PassthroughSubjects (lines 71, 76-79): pathStatusSubject, isExpensiveSubject, isConstrainedSubject, pingStatusSubject with private(set) stored properties: currentPathStatus: PathStatus, currentIsExpensive: Bool, currentIsConstrained: Bool, currentPingStatus. Remove AnyCancellable arrays (lines 72, 74) and cancellable management. Remove pathSubject.map().subscribe() chains (lines 113-115) and replace with direct property assignment in path update handler. Ensure state updates trigger observer notifications instead of publisher events. Update all internal state management to use direct property assignment with proper thread synchronization. Maintain state consistency during updates.",
            "status": "done",
            "testStrategy": "Verify no Combine imports remain. Test state updates trigger observer notifications. Validate property access thread safety. Test state consistency during rapid updates.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.580Z"
          },
          {
            "id": 6,
            "title": "Implement state query methods and lifecycle management",
            "description": "Implement NetworkMonitoring protocol methods for state queries and complete lifecycle management including start/stop functionality",
            "dependencies": [
              1,
              2,
              3,
              4,
              5
            ],
            "details": "Implement pathStatus() -> PathStatus method returning current path status. Implement isExpensive() -> Bool and isConstrained() -> Bool query methods. Adapt start(queue: DispatchQueue) method from NetworkObserver (lines 122-128) removing timerCancellable and ping.publish() calls, replacing with direct Timer scheduling. Implement stop() method based on cancel() (lines 131-138) for cancelling PathMonitor, stopping NetworkPing timers, and clearing observers. Add isMonitoring property tracking active state. Ensure proper cleanup in deinit clearing all timers and observers. Handle edge cases like multiple start/stop calls. Implement any additional NetworkMonitoring protocol requirements from SundialKitCore. Maintain onUpdate(path:) functionality (lines 140-142) adapted for observer pattern.",
            "status": "done",
            "testStrategy": "Test start/stop lifecycle with various scenarios. Verify state query methods return correct values. Test cleanup on deinit. Validate behavior with multiple start/stop calls.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:16:49.581Z"
          },
          {
            "id": 7,
            "title": "Create comprehensive unit tests with mocks",
            "description": "Develop complete test suite using Swift Testing framework with mock implementations for all dependencies",
            "dependencies": [
              6
            ],
            "details": "Create Tests/SundialKitNetworkTests/NetworkMonitorTests.swift using Swift Testing framework. Port test patterns from Tests/SundialKitTests/Network/NetworkObserverTests.swift adapting for observer pattern. Implement MockPathMonitor conforming to PathMonitor protocol with controllable behavior (based on existing MockPathMonitor). Create MockNetworkPing for testing ping integration (based on existing MockNetworkPing). Write tests for: initialization with various configurations, observer registration and notification, state transitions and updates, thread safety with concurrent operations, PathMonitor integration, NetworkPing optional behavior, lifecycle management (start/stop/deinit), error handling and edge cases. Adapt existing test methods like testStart(), testCancel(), testPathStatusPublisher() for observer pattern instead of publishers. Ensure minimum 80% code coverage. Test platform-specific behavior where applicable.",
            "status": "done",
            "testStrategy": null,
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:21:42.102Z"
          },
          {
            "id": 8,
            "title": "Update Package.swift to define SundialKitNetwork target",
            "description": "Add SundialKitNetwork target to Package.swift with proper dependencies and platform support",
            "dependencies": [
              7
            ],
            "details": "Update Package.swift to add SundialKitNetwork target definition. Add dependencies on SundialKitCore for protocols. Configure platform restrictions matching current SundialKit (.iOS(.v13), .watchOS(.v6), .tvOS(.v13), .macOS(.v10_13)). Add SundialKitNetwork to library products. Create corresponding test target SundialKitNetworkTests with dependency on SundialKitNetwork. Ensure Network framework is properly linked for NWPathMonitor usage. Remove Network components from main SundialKit target preparation for separation.",
            "status": "done",
            "testStrategy": "Test package builds successfully. Verify target dependencies resolve correctly. Test on all supported platforms.",
            "parentId": "undefined",
            "updatedAt": "2025-10-22T15:22:06.963Z"
          }
        ],
        "complexity": 6,
        "recommendedSubtasks": 7,
        "expansionPrompt": "Break down into: 1) Create NetworkMonitor class structure implementing NetworkMonitoring protocol, 2) Extract PathMonitor abstraction and NWPathMonitor implementation from existing code, 3) Implement observer pattern with weak references and thread-safe state management, 4) Extract and adapt NetworkPing integration logic, 5) Remove Combine dependencies and replace with stored properties, 6) Implement state query methods and lifecycle management, 7) Create comprehensive unit tests with mocks",
        "updatedAt": "2025-10-22T15:22:06.963Z"
      },
      {
        "id": 3,
        "title": "Extract ConnectivityManager from ConnectivityObserver",
        "description": "Create non-reactive ConnectivityManager class in SundialKitConnectivity target for WatchConnectivity management",
        "status": "pending",
        "dependencies": [
          "1"
        ],
        "priority": "high",
        "details": "Extract and refactor ConnectivityManager from existing ConnectivityObserver (Sources/SundialKit/WatchConnectivity/ConnectivityObserver.swift):\n1. Move core WatchConnectivity logic from ConnectivityObserver to new ConnectivityManager\n2. Remove all Combine dependencies (Published, PassthroughSubject, AnyCancellable from lines 46)\n3. Implement ConnectivityManagement protocol from SundialKitCore\n4. Maintain ConnectivitySession protocol abstraction from Sources/SundialKit/WatchConnectivity/ConnectivitySession.swift\n5. Reuse existing WatchConnectivitySession implementation (Sources/SundialKit/WatchConnectivity/WatchConnectivitySession.swift)\n6. Handle platform-specific delegate methods from ConnectivitySessionDelegate:\n   - sessionDidBecomeInactive (iOS only, lines 126-128)\n   - sessionDidDeactivate (iOS only, lines 130-132)\n   - sessionWatchStateDidChange (iOS only, mapped to sessionCompanionStateDidChange)\n7. Bridge delegate-based activation to async/await using continuations\n8. Implement activation timeout handling\n9. Extract message routing logic from sendMessage method (lines 163-182):\n   - sendMessage when reachable\n   - updateApplicationContext fallback when paired app installed\n   - throw ConnectivityError when companion unavailable\n10. Observer pattern for state changes using ConnectivityStateObserver protocol\n11. Platform guards for iOS/watchOS only (existing #if os patterns)\n12. Reuse MockSession for testing (Tests/SundialKitTests/MockSession.swift)\n\nKey implementation details from existing code:\n- Thread-safe delegate handling using DispatchQueue.main.async (lines 135, 146)\n- Error mapping from SundialError.missingCompanion to ConnectivityError\n- Message size validation (65KB WatchConnectivity limit)\n- Session lifecycle management with proper delegate assignment\n\nGitHub Issue: #31, Component: WatchConnectivity",
        "testStrategy": "Swift Testing required. Port existing test patterns from Tests/SundialKitTests/WatchConnectivity/. Test activation lifecycle, message sending/receiving using MockSession patterns from ConnectivityObserverMessageTests.swift, reachability changes, platform-specific behavior (iOS vs watchOS), timeout scenarios, and fallback mechanisms using existing ConnectivityObserverPropertyTests.swift structure.",
        "subtasks": [
          {
            "id": 1,
            "title": "Create ConnectivityManager class implementing ConnectivityManagement protocol",
            "description": "Create the main ConnectivityManager class in SundialKitConnectivity target that implements the ConnectivityManagement protocol from SundialKitCore, establishing the foundational structure for WatchConnectivity management",
            "dependencies": [],
            "details": "Create ConnectivityManager.swift in SundialKitConnectivity/Sources with class definition implementing ConnectivityManagement protocol. Structure similar to existing ConnectivityObserver (Sources/SundialKit/WatchConnectivity/ConnectivityObserver.swift) but without Combine dependencies. Include properties for session management (internal let session: ConnectivitySession), state tracking (activationState, isReachable, isPaired, isPairedAppInstalled), observer storage using weak references, and delegate handling. Implement basic initializer with ConnectivitySession parameter and convenience initializer. Add platform availability guards matching existing @available(macOS, unavailable) @available(tvOS, unavailable) patterns. Remove all PassthroughSubject and AnyCancellable references.",
            "status": "pending",
            "testStrategy": "Test class initialization, protocol conformance, property initialization, and platform availability on iOS and watchOS simulators",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Reuse existing ConnectivitySession abstraction and WatchConnectivitySession implementation",
            "description": "Leverage the existing ConnectivitySession protocol (Sources/SundialKit/WatchConnectivity/ConnectivitySession.swift) and WatchConnectivitySession implementation for the abstraction layer",
            "dependencies": [
              1
            ],
            "details": "Reuse existing ConnectivitySession protocol from Sources/SundialKit/WatchConnectivity/ConnectivitySession.swift with methods for activation, message sending, application context updates, and state queries. Leverage existing WatchConnectivitySession wrapper from Sources/SundialKit/WatchConnectivity/WatchConnectivitySession.swift around WCSession with all delegate methods implemented. The abstraction already includes platform-specific properties (#if os(iOS) var isPaired), thread-safe delegate assignment, and proper session lifecycle management. Continue using MockSession from Tests/SundialKitTests/MockSession.swift for testing purposes. No changes needed to these existing abstractions.",
            "status": "pending",
            "testStrategy": "Test protocol implementation using existing MockSession, delegate callbacks, verify abstraction maintains same interface as v1",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Implement ConnectivitySessionDelegate methods with platform-specific handling",
            "description": "Implement ConnectivitySessionDelegate protocol methods in ConnectivityManager, handling platform-specific delegate callbacks from existing WatchConnectivitySession",
            "dependencies": [
              2
            ],
            "details": "Implement ConnectivitySessionDelegate conformance on ConnectivityManager using existing patterns from ConnectivityObserver (lines 126-199). Port methods: session(_:activationDidCompleteWith:error:) with main queue dispatch (lines 141-155), sessionDidBecomeInactive (lines 126-128), sessionDidDeactivate (lines 130-132), sessionCompanionStateDidChange (lines 134-139), sessionReachabilityDidChange (lines 157-161), session(_:didReceiveMessage:replyHandler:) (lines 184-190), session(_:didReceiveApplicationContext:error:) (lines 192-199). Update internal state properties based on delegate callbacks. Use existing DispatchQueue.main.async patterns for thread-safe state updates (lines 135, 146).",
            "status": "pending",
            "testStrategy": "Test each delegate method with MockSession, verify platform-specific methods behavior, test state updates from callbacks using existing test patterns",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Bridge delegate-based activation to async/await with continuations and timeout",
            "description": "Convert the synchronous activation pattern to modern async/await using continuations, including timeout handling for activation failures",
            "dependencies": [
              3
            ],
            "details": "Implement async activate() method using withCheckedThrowingContinuation to bridge delegate callbacks from session(_:activationDidCompleteWith:error:). Store continuation as optional property and resume on delegate callback. Add configurable timeout (default 30 seconds) using Task.sleep and cancellation. Handle race conditions between timeout and successful activation. Map activation errors and SundialError.sessionNotSupported to ConnectivityError cases. Ensure continuation is only resumed once to prevent crashes. Clean up stored continuation on completion or timeout. Follow existing session.activate() patterns from ConnectivityObserver.activate() (lines 121-124).",
            "status": "pending",
            "testStrategy": "Test successful activation, timeout scenarios, error handling, concurrent activation attempts, and continuation cleanup",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Extract and adapt message routing logic from ConnectivityObserver",
            "description": "Port the intelligent message routing logic from ConnectivityObserver.sendMessage method that uses sendMessage when reachable and falls back to updateApplicationContext",
            "dependencies": [
              4
            ],
            "details": "Port message routing logic from ConnectivityObserver.sendMessage method (lines 163-182). Implement async send(message:replyTimeout:) method that replicates existing routing logic: when session.isReachable (line 164) use session.sendMessage with completion handler (lines 165-167), when not reachable but session.isPairedAppInstalled (line 168) fallback to session.updateApplicationContext (lines 169-176), when companion unavailable throw SundialError.missingCompanion (lines 178-181). Validate message size against 65KB WatchConnectivity limit before sending. Handle reply timeouts using Task-based timing. Map existing SundialError cases to ConnectivityError from SundialKitCore.",
            "status": "pending",
            "testStrategy": "Test message routing decisions using MockSession patterns from ConnectivityObserverMessageTests.swift, fallback behavior, size validation, timeout handling, and error scenarios",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Implement observer pattern for state change notifications",
            "description": "Create an observer pattern system using weak references to notify interested parties about connectivity state changes without using Combine",
            "dependencies": [
              5
            ],
            "details": "Define ConnectivityStateObserver protocol with methods for state change notifications: connectivityStateDidChange, reachabilityDidChange, activationStateDidChange matching the state changes from existing Subject patterns (activationStateSubject line 48, isReachableSubject line 49, isPairedAppInstalledSubject line 50, isPairedSubject line 51). Implement observer management with weak reference array using NSHashTable or similar to prevent retain cycles. Create thread-safe add/remove observer methods using appropriate locking mechanism. Notify observers on main queue when state changes occur from delegate callbacks, replacing the Subject.send calls. Provide granular notification methods for different state aspects. Include automatic cleanup of deallocated observers.",
            "status": "pending",
            "testStrategy": "Test observer registration/removal, weak reference behavior, notification delivery, thread safety with concurrent observers",
            "parentId": "undefined"
          },
          {
            "id": 7,
            "title": "Handle error mapping from SundialError to ConnectivityError",
            "description": "Create comprehensive error mapping system that converts existing SundialError cases and WatchConnectivity framework errors to domain-specific ConnectivityError cases",
            "dependencies": [
              6
            ],
            "details": "Implement error mapping to convert existing SundialError cases (sessionNotSupported, missingCompanion from Sources/SundialKit/SundialError.swift) to ConnectivityError enum cases defined in SundialKitCore. Map WCError codes to granular ConnectivityError cases: notReachable, deviceNotPaired, watchAppNotInstalled, notActivated, fileAccessDenied, deliveryFailed, insufficientSpace, sessionMissingDelegate, sessionNotActivated, sessionNotSupported, badPayload, messageReplyFailed, messageReplyTimedOut, transferTimedOut. Preserve original error as underlying error for debugging. Create helper methods for common error scenarios. Include descriptive error messages for each case following LocalizedError protocol patterns.",
            "status": "pending",
            "testStrategy": "Test all SundialError to ConnectivityError mappings, verify error messages, test error propagation through async methods",
            "parentId": "undefined"
          },
          {
            "id": 8,
            "title": "Create comprehensive platform-specific tests using existing test patterns",
            "description": "Develop a complete test suite using Swift Testing that covers all ConnectivityManager functionality, leveraging existing test patterns and MockSession",
            "dependencies": [
              7
            ],
            "details": "Create ConnectivityManagerTests using Swift Testing framework with platform-conditional compilation following existing test patterns. Port test structure from ConnectivityObserverMessageTests.swift and ConnectivityObserverPropertyTests.swift. Test activation lifecycle including success, failure, and timeout scenarios. Verify message sending and receiving with MockSession (reuse existing patterns from testCombineSendMessageReachable and testCombineSendMessageAppInstalled). Test reachability state changes and observer notifications. Validate platform-specific delegate methods on iOS. Test error handling and mapping for all error cases. Verify thread safety with concurrent operations. Test message size validation and routing decisions. Include integration tests with MockSession. Ensure 90%+ code coverage matching existing test coverage.",
            "status": "pending",
            "testStrategy": null,
            "parentId": "undefined"
          }
        ],
        "complexity": 7,
        "recommendedSubtasks": 8,
        "expansionPrompt": "Break down into: 1) Create ConnectivityManager class implementing ConnectivityManagement protocol, 2) Extract ConnectivitySession abstraction over WCSession from existing code, 3) Implement platform-specific delegate methods with iOS/watchOS guards, 4) Bridge delegate-based activation to async/await with continuations and timeout handling, 5) Extract message routing logic (sendMessage with updateApplicationContext fallback), 6) Implement observer pattern for state change notifications, 7) Handle error mapping from WCError to ConnectivityError, 8) Create comprehensive platform-specific tests"
      },
      {
        "id": 4,
        "title": "Create SundialKit umbrella target",
        "description": "Configure umbrella target that re-exports SundialKitCore, SundialKitNetwork, and SundialKitConnectivity for convenience",
        "details": "Create SundialKit umbrella target:\n1. Update Package.swift to define SundialKit product\n2. Create SundialKit.swift with @_exported imports:\n   - @_exported import SundialKitCore\n   - @_exported import SundialKitNetwork  \n   - @_exported import SundialKitConnectivity\n3. Configure platform restrictions (iOS 13+, watchOS 6+ - most restrictive)\n4. No additional code - pure re-export target\n5. Update documentation to explain import options:\n   - Individual imports for selective features\n   - SundialKit import for everything\n6. Verify all public APIs are accessible through umbrella import\n\nPackage.swift configuration:\n- Product definition with all three targets\n- Proper dependency declarations\n- Platform version specifications",
        "testStrategy": "Swift Testing required. Verify all public APIs accessible through umbrella import, test compilation on all supported platforms, validate no symbol conflicts.",
        "priority": "medium",
        "dependencies": [
          "1",
          "2",
          "3"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Update Package.swift to define SundialKit umbrella product",
            "description": "Modify Package.swift to add the SundialKit product that combines all three module targets with proper dependency declarations and platform restrictions",
            "dependencies": [],
            "details": "Edit Package.swift to add a new product named 'SundialKit' that includes SundialKitCore, SundialKitNetwork, and SundialKitConnectivity as targets. Set platform requirements to iOS 13.0+ and watchOS 6.0+ (the most restrictive of all modules). Ensure the product properly declares its target dependencies and that the SundialKit target itself depends on all three module targets.",
            "status": "pending",
            "testStrategy": "Verify Package.swift compiles without errors using 'swift build' and that the SundialKit product appears in the package manifest",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Create SundialKit.swift with @_exported module imports",
            "description": "Create the main SundialKit.swift file that uses @_exported to re-export all three modules, making their public APIs available through a single import",
            "dependencies": [
              1
            ],
            "details": "Create Sources/SundialKit/SundialKit.swift with three lines: '@_exported import SundialKitCore', '@_exported import SundialKitNetwork', and '@_exported import SundialKitConnectivity'. This file should contain no additional code - it serves purely as a re-export mechanism. The @_exported attribute ensures all public symbols from the imported modules become available to consumers who import SundialKit.",
            "status": "pending",
            "testStrategy": "Build the target and verify no compilation errors occur with the @_exported imports",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Write comprehensive tests verifying umbrella import accessibility",
            "description": "Create test suite that validates all public APIs from Core, Network, and Connectivity modules are accessible through the single SundialKit import",
            "dependencies": [
              2
            ],
            "details": "Create Tests/SundialKitTests/SundialKitUmbrellaTests.swift that imports only SundialKit (not the individual modules) and verifies access to key types from each module: NetworkObserver and PathStatus from Network, ConnectivityObserver and ConnectivityMessage from Connectivity, and core protocols from Core. Test should instantiate or reference each major public type to ensure proper symbol visibility. Include platform conditional compilation to handle iOS vs watchOS differences.",
            "status": "pending",
            "testStrategy": "Run 'swift test' to ensure all public APIs are accessible through the umbrella import without needing individual module imports",
            "parentId": "undefined"
          }
        ],
        "complexity": 2,
        "recommendedSubtasks": 3,
        "expansionPrompt": "Break down into: 1) Update Package.swift to define SundialKit product with proper dependencies and platform restrictions, 2) Create SundialKit.swift file with @_exported imports for all three modules, 3) Write tests to verify all public APIs are accessible through umbrella import"
      },
      {
        "id": 5,
        "title": "Implement SundialKitCombine compatibility plugin",
        "description": "Create Combine-based plugin package providing v1.0.0 API compatibility with NetworkObserver and ConnectivityObserver",
        "status": "pending",
        "dependencies": [
          "2",
          "3"
        ],
        "priority": "high",
        "details": "Create SundialKitCombine plugin for backwards compatibility:\n1. NetworkObserver implementation:\n   - Wrap NetworkMonitor from SundialKitCore (once extracted from Sources/SundialKit/Network/NetworkObserver.swift)\n   - @Published properties: pathStatus, isExpensive, isConstrained\n   - Publishers: pathStatusPublisher, isExpensivePublisher, etc.\n   - PassthroughSubject utilities from Sources/SundialKit/PassthroughSubject.swift\n   - Implement NetworkStateObserver to bridge changes\n2. ConnectivityObserver implementation:\n   - Wrap ConnectivityManager from SundialKitCore (once extracted from Sources/SundialKit/WatchConnectivity/ConnectivityObserver.swift)\n   - All v1.0.0 publishers maintained\n   - sendingMessageSubject for message sending (line 43 in current implementation)\n   - messageReceivedPublisher, replyMessagePublisher\n3. Exact v1.0.0 API surface - no breaking changes\n4. @available guards for platform compatibility\n5. Swift 5.9+ support\n6. Platform: iOS 13+, watchOS 6+, tvOS 13+, macOS 10.15+\n\nCritical: Must pass all v1.0.0 tests unchanged. Current codebase analysis shows existing NetworkObserver at Sources/SundialKit/Network/NetworkObserver.swift uses PassthroughSubjects and Combine publishers (lines 71-107). ConnectivityObserver at Sources/SundialKit/WatchConnectivity/ConnectivityObserver.swift has sendingMessageSubject and other publishers (lines 43-85). GitHub Issue: #33, Component: Combine Plugin",
        "testStrategy": "Swift Testing migration required. Run entire v1.0.0 test suite against plugin, verify zero API changes needed, test publisher behavior matches v1 exactly. Reference existing test patterns from Tests/SundialKitTests/Network/NetworkObserverTests.swift and Tests/SundialKitTests/WatchConnectivity/ConnectivityObserverPropertyTests.swift.",
        "subtasks": [
          {
            "id": 1,
            "title": "Create SundialKitCombine package structure and NetworkObserver wrapper",
            "description": "Set up the SundialKitCombine Swift package with proper directory structure and create the NetworkObserver class that wraps NetworkMonitor from SundialKitCore",
            "dependencies": [],
            "details": "Create Package.swift with SundialKitCombine target, add dependency on SundialKitCore. Create NetworkObserver class with @Published properties for pathStatus, isExpensive, and isConstrained. Initialize with NetworkMonitor instance and set up property observation bridges. Reference current NetworkObserver implementation at Sources/SundialKit/Network/NetworkObserver.swift for API compatibility.",
            "status": "pending",
            "testStrategy": "Test that NetworkObserver initializes correctly, properties are properly published, and NetworkMonitor is correctly wrapped",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Implement NetworkObserver publishers and PassthroughSubject utilities",
            "description": "Add all v1.0.0 publishers to NetworkObserver including pathStatusPublisher, isExpensivePublisher, isConstrainedPublisher, and port PassthroughSubject extension utilities",
            "dependencies": [
              1
            ],
            "details": "Create Combine publishers for each observable property using @Published projectedValue. Port the PassthroughSubject extension with anyPublisher(for:) helper from Sources/SundialKit/PassthroughSubject.swift (lines 36-40). Implement NetworkStateObserver conformance to bridge state changes from NetworkMonitor to Combine publishers. Maintain exact API from current NetworkObserver (lines 90-107).",
            "status": "pending",
            "testStrategy": "Verify all publishers emit correct values when underlying NetworkMonitor state changes, test PassthroughSubject utility methods work as in v1.0.0",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Create ConnectivityObserver wrapper around ConnectivityManager",
            "description": "Implement ConnectivityObserver class wrapping ConnectivityManager from SundialKitCore with all v1.0.0 @Published properties",
            "dependencies": [
              1
            ],
            "details": "Create ConnectivityObserver with @Published properties: activationState, isReachable, isPaired, isPairedAppInstalled. Initialize with ConnectivityManager instance. Set up property bridges to observe ConnectivityManager state changes and update @Published properties accordingly. Reference current ConnectivityObserver API at Sources/SundialKit/WatchConnectivity/ConnectivityObserver.swift.",
            "status": "pending",
            "testStrategy": "Test ConnectivityObserver initialization, verify all @Published properties update correctly when ConnectivityManager state changes",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Implement message publishers and sending subject",
            "description": "Add sendingMessageSubject, messageReceivedPublisher, and replyMessagePublisher to ConnectivityObserver maintaining exact v1.0.0 behavior",
            "dependencies": [
              3
            ],
            "details": "Create sendingMessageSubject as PassthroughSubject<ConnectivityMessage, Never> (matching line 43 in current implementation). Implement messageReceivedPublisher and replyMessagePublisher using PassthroughSubject (lines 77-85). Bridge ConnectivityManager's message callbacks to emit on appropriate publishers. Ensure sendingMessageSubject triggers actual message sending through ConnectivityManager, following current sendMessage implementation (lines 163-182).",
            "status": "pending",
            "testStrategy": "Test message sending through sendingMessageSubject, verify messageReceivedPublisher emits on message receipt, test replyMessagePublisher handles reply messages correctly",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Bridge observer callbacks to Combine publishers",
            "description": "Implement ConnectivityStateObserver and ConnectivityMessageObserver conformance to bridge all callbacks from core to Combine layer",
            "dependencies": [
              2,
              4
            ],
            "details": "Implement observer protocol methods to receive state changes and messages from NetworkMonitor and ConnectivityManager. Convert all callback data to appropriate Combine publisher emissions. Ensure thread safety and proper memory management with weak self captures in closures. Handle platform-specific callbacks appropriately. Reference current delegate pattern implementation (lines 126-199 in ConnectivityObserver.swift).",
            "status": "pending",
            "testStrategy": "Test all observer callbacks trigger correct publisher emissions, verify no memory leaks or retain cycles, test thread safety under concurrent access",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Verify complete v1.0.0 API compatibility with existing tests",
            "description": "Run entire v1.0.0 test suite against SundialKitCombine plugin to ensure zero breaking changes and complete API surface coverage",
            "dependencies": [
              5
            ],
            "details": "Import all v1.0.0 tests into SundialKitCombine test target. Update import statements from SundialKit to SundialKitCombine. Run full test suite without any modifications to test code. Document any missing APIs or behavioral differences. Add @available guards for platform compatibility as needed. Reference existing test files: Tests/SundialKitTests/Network/NetworkObserverTests.swift, Tests/SundialKitTests/WatchConnectivity/ConnectivityObserverPropertyTests.swift, Tests/SundialKitTests/WatchConnectivity/ConnectivityObserverMessageTests.swift, Tests/SundialKitTests/PassthroughSubjectTests.swift.",
            "status": "pending",
            "testStrategy": "Execute complete v1.0.0 test suite, ensure 100% pass rate with no test modifications required, verify identical behavior between v1.0.0 and plugin implementation",
            "parentId": "undefined"
          }
        ],
        "complexity": 5,
        "recommendedSubtasks": 6,
        "expansionPrompt": "Break down into: 1) Create NetworkObserver wrapper around NetworkMonitor with @Published properties, 2) Implement all v1.0.0 publishers using PassthroughSubject utilities, 3) Create ConnectivityObserver wrapper around ConnectivityManager, 4) Implement message publishers (sendingMessageSubject, messageReceivedPublisher, replyMessagePublisher), 5) Bridge observer callbacks to Combine publishers, 6) Verify complete v1.0.0 API compatibility with existing tests"
      },
      {
        "id": 6,
        "title": "Implement SundialKitMessagable compatibility plugin",
        "description": "Create dictionary-based messaging plugin maintaining v1.0.0 Messagable protocol and MessageDecoder with GitHub Issue #34 for Component: Messagable Plugin",
        "status": "pending",
        "dependencies": [
          "1"
        ],
        "priority": "high",
        "details": "Create SundialKitMessagable plugin for v1.0.0 messaging compatibility (GitHub Issue #34, Component: Messagable Plugin):\n1. Port Messagable protocol exactly from Sources/SundialKit/WatchConnectivity/Messagable.swift:\n   - static key property for type identification\n   - init?(from:) for decoding from [String: Any]\n   - parameters() for encoding to [String: Any]\n   - message() helper extension for ConnectivityMessage conversion using MessagableKeys\n2. Port MessageDecoder class from Sources/SundialKit/WatchConnectivity/MessageDecoder.swift:\n   - Initialize with array of Messagable.Type\n   - Internal dictionary keyed by Messagable.key for O(1) lookup\n   - decode(_:) method using MessagableKeys.typeKey and MessagableKeys.parametersKey\n3. Port ConnectivityMessage typealias from Sources/SundialKit/WatchConnectivity/ConnectivityMessage.swift\n4. Port MessagableKeys internal enum from Sources/SundialKit/WatchConnectivity/MessagableKeys.swift\n5. Dictionary serialization utilities and property list compliance validation\n6. No external dependencies, Swift 5.9+ for compatibility\n7. Platform: iOS 13+, watchOS 6+, tvOS 13+, macOS 10.13+\n\nMust maintain exact v1.0.0 behavior for seamless migration. Reference existing test patterns from Tests/SundialKitTests/WatchConnectivity/MessagableTests.swift and Tests/SundialKitTests/WatchConnectivity/MessageDecoderTests.swift using Tests/SundialKitTests/MockMessage.swift.",
        "testStrategy": "Swift Testing required. Test encoding/decoding round trips using MockMessage pattern, MessageDecoder type resolution with MessagableKeys, property list compliance, backwards compatibility with v1 messages. Port test patterns from MessagableTests.swift and MessageDecoderTests.swift.",
        "subtasks": [
          {
            "id": 1,
            "title": "Port Messagable protocol with all v1.0.0 methods",
            "description": "Extract and port the Messagable protocol from Sources/SundialKit/WatchConnectivity/Messagable.swift with exact API compatibility including static key property, init from dictionary, parameters method, and message helper extension",
            "dependencies": [],
            "details": "Create Sources/SundialKitMessagable/Messagable.swift with the complete Messagable protocol definition from Sources/SundialKit/WatchConnectivity/Messagable.swift:30-86. Must include: static var key: String for type identification, init?(from: [String: Any]?) for decoding from dictionary, func parameters() -> [String: Any] for encoding to dictionary, and extension with func message() -> ConnectivityMessage helper that uses MessagableKeys.typeKey and MessagableKeys.parametersKey. Ensure Sendable conformance for Swift 6 compatibility. The message() extension should create a dictionary with Self.key as typeKey and parameters() result as parametersKey.",
            "status": "pending",
            "testStrategy": "Test protocol conformance with mock types based on MockMessage pattern, verify key uniqueness, test init?(from:) with valid and invalid dictionaries, verify parameters() produces valid property list types, test message() helper produces correct format matching existing v1.0.0 behavior",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Port MessageDecoder class with type registry",
            "description": "Implement MessageDecoder class from Sources/SundialKit/WatchConnectivity/MessageDecoder.swift that maintains a registry of Messagable types and provides type-safe decoding from ConnectivityMessage dictionaries",
            "dependencies": [
              1
            ],
            "details": "Create Sources/SundialKitMessagable/MessageDecoder.swift with MessageDecoder struct from Sources/SundialKit/WatchConnectivity/MessageDecoder.swift:63-90. Initialize with array of Messagable.Type, build internal dictionary keyed by Messagable.key for O(1) lookup using Dictionary(uniqueKeysWithValues:). Implement decode(_: ConnectivityMessage) -> Messagable? method that extracts MessagableKeys.typeKey, looks up type in registry, and calls appropriate init?(from:) with MessagableKeys.parametersKey value. Include proper error handling for missing keys and unknown types. Thread-safety is provided by immutable state after initialization.",
            "status": "pending",
            "testStrategy": "Test decoder initialization with multiple types, verify type resolution by key using MessagableKeys, test decoding with valid messages, test handling of unknown keys, test duplicate key handling during initialization, verify exact behavior match with existing MessageDecoderTests.swift",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Port ConnectivityMessage typealias and MessagableKeys",
            "description": "Define ConnectivityMessage typealias as [String:Any] and port MessagableKeys internal enum from existing v1.0.0 implementation",
            "dependencies": [],
            "details": "Create Sources/SundialKitMessagable/ConnectivityMessage.swift with public typealias ConnectivityMessage = [String: Any] from Sources/SundialKit/WatchConnectivity/ConnectivityMessage.swift:31. Create Sources/SundialKitMessagable/MessagableKeys.swift with internal enum MessagableKeys from Sources/SundialKit/WatchConnectivity/MessagableKeys.swift:30-33 containing typeKey = \"__type\" and parametersKey = \"__parameters\". These keys are used by Messagable.message() extension and MessageDecoder.decode(_:) for consistent message format. Ensure all values in ConnectivityMessage conform to property list types (NSString, NSNumber, NSDate, NSData, NSArray, NSDictionary). Document WatchConnectivity compatibility requirements.",
            "status": "pending",
            "testStrategy": "Test typealias is correctly defined, verify MessagableKeys constants match v1.0.0 values exactly, verify property list compliance validation, test serialization round-trips maintain data integrity, verify keys work with existing message format",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Create comprehensive backwards compatibility tests",
            "description": "Implement complete test suite verifying exact v1.0.0 behavior including encoding/decoding round trips and backwards compatibility with existing messages using patterns from MessagableTests.swift and MessageDecoderTests.swift",
            "dependencies": [
              1,
              2,
              3
            ],
            "details": "Create Tests/SundialKitMessagableTests/ with comprehensive test coverage based on existing patterns from Tests/SundialKitTests/WatchConnectivity/MessagableTests.swift and Tests/SundialKitTests/WatchConnectivity/MessageDecoderTests.swift. Include: TestMessage types matching MockMessage pattern from Tests/SundialKitTests/MockMessage.swift, round-trip encoding/decoding tests using message() and decode(_:), MessageDecoder registry tests with multiple types, property list compliance validation, edge cases (empty messages, nil values, invalid types), performance tests for large message sets. Test that MessagableKeys.typeKey and MessagableKeys.parametersKey are used correctly. Verify that migrating from v1.0.0 to plugin requires zero code changes by using identical test fixtures.",
            "status": "pending",
            "testStrategy": null,
            "parentId": "undefined"
          }
        ],
        "complexity": 3,
        "recommendedSubtasks": 4,
        "expansionPrompt": "Break down into: 1) Port Messagable protocol with all required methods from v1.0.0, 2) Port MessageDecoder class with type registry implementation, 3) Add ConnectivityMessage typealias and helper extensions, 4) Create comprehensive tests for encoding/decoding and backwards compatibility"
      },
      {
        "id": 7,
        "title": "Implement SundialKitStream modern async plugin",
        "description": "Create actor-based AsyncStream plugin with NetworkStream and ConnectivityStream using Swift 6.1 strict concurrency",
        "details": "Create modern SundialKitStream plugin with Swift 6.1:\n1. actor NetworkStream implementation:\n   - Wrap NetworkMonitor with actor isolation\n   - pathStatusStream: AsyncStream<PathStatus>\n   - isExpensiveStream: AsyncStream<Bool>\n   - isConstrainedStream: AsyncStream<Bool>\n   - async func currentStatus() -> PathStatus\n   - Implement NetworkStateObserver, bridge to AsyncStream\n2. actor ConnectivityStream implementation:\n   - Wrap ConnectivityManager with actor isolation\n   - activationStateStream: AsyncStream<ActivationState>\n   - isReachableStream: AsyncStream<Bool>\n   - messageStream: AsyncStream<ReceivedMessage>\n   - async func send<M>(_ message: M) throws\n   - async func activate() throws(ConnectivityError)\n3. Full Swift 6.1 strict concurrency enabled\n4. No @available guards - declare platforms in Package.swift\n5. Thread-safe by default via actor isolation\n6. No swift-async-algorithms dependency\n\nPlatform: iOS 13+, macOS 10.15+, watchOS 6+, tvOS 13+",
        "testStrategy": "Swift Testing required. Test actor isolation, AsyncStream delivery, concurrent access safety, proper cleanup on stream termination, typed throws behavior.",
        "priority": "medium",
        "dependencies": [
          "2",
          "3"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Create NetworkStream actor with isolation boundaries",
            "description": "Implement the core NetworkStream actor that wraps NetworkMonitor with proper actor isolation, ensuring thread-safe access to all network state",
            "dependencies": [],
            "details": "Create NetworkStream actor in SundialKitStream target. Define actor NetworkStream with private let networkMonitor: NetworkMonitor. Implement actor isolation boundaries for all state access. Add private continuation storage for AsyncStream management. Implement proper initialization with NetworkMonitor dependency injection. Ensure all public APIs are properly isolated to the actor context.",
            "status": "pending",
            "testStrategy": "Test actor isolation using Task.detached contexts, verify concurrent access safety, test initialization and dependency injection",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Implement AsyncStream bridges for network properties",
            "description": "Create AsyncStream publishers for pathStatus, isExpensive, and isConstrained properties with proper continuation lifecycle management",
            "dependencies": [
              1
            ],
            "details": "Implement pathStatusStream: AsyncStream<PathStatus> using AsyncStream.makeStream(). Create isExpensiveStream and isConstrainedStream similarly. Implement NetworkStateObserver conformance to receive updates from NetworkMonitor. Bridge observer callbacks to AsyncStream continuations. Handle continuation lifecycle with proper cleanup on stream termination. Implement async func currentStatus() -> PathStatus for synchronous state access.",
            "status": "pending",
            "testStrategy": "Test stream delivery of state changes, verify proper cleanup on cancellation, test multiple concurrent consumers",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Create ConnectivityStream actor with message handling",
            "description": "Implement the core ConnectivityStream actor that wraps ConnectivityManager with actor isolation for thread-safe WatchConnectivity operations",
            "dependencies": [],
            "details": "Create ConnectivityStream actor in SundialKitStream target. Define actor ConnectivityStream with private let connectivityManager: ConnectivityManager. Implement actor isolation for all connectivity state and message handling. Add private continuation storage for multiple AsyncStream instances. Handle message queue buffering for async delivery. Ensure proper actor context isolation for all public methods.",
            "status": "pending",
            "testStrategy": "Test actor isolation with concurrent operations, verify message queue handling, test initialization with mock ConnectivityManager",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Implement AsyncStream for connectivity state and messages",
            "description": "Create AsyncStream publishers for connectivity state properties and incoming messages with proper continuation management",
            "dependencies": [
              3
            ],
            "details": "Implement activationStateStream: AsyncStream<ActivationState> using AsyncStream.makeStream(). Create isReachableStream: AsyncStream<Bool> for reachability state. Implement messageStream: AsyncStream<ReceivedMessage> for incoming messages. Create ConnectivityStateObserver conformance to receive updates. Bridge observer callbacks to appropriate stream continuations. Handle multiple consumers and continuation lifecycle properly.",
            "status": "pending",
            "testStrategy": "Test stream delivery timing, verify state synchronization, test message stream buffering and delivery order",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Add async send and activate methods with typed throws",
            "description": "Implement async methods for sending messages and activating connectivity with Swift 6.1 typed throws for specific error handling",
            "dependencies": [
              3,
              4
            ],
            "details": "Implement async func send<M>(_ message: M) throws(ConnectivityError) where M: Sendable. Convert synchronous ConnectivityManager.send to async with proper error propagation. Implement async func activate() throws(ConnectivityError) for session activation. Use Swift 6.1 typed throws syntax for ConnectivityError. Handle timeout scenarios with withTaskCancellationHandler. Ensure proper actor isolation for all async operations.",
            "status": "pending",
            "testStrategy": "Test typed error throwing, verify timeout handling, test cancellation behavior, test message sending success and failure paths",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Ensure Swift 6.1 strict concurrency compliance",
            "description": "Verify and enforce full Swift 6.1 strict concurrency mode compliance throughout the plugin with proper Sendable conformance",
            "dependencies": [
              1,
              2,
              3,
              4,
              5
            ],
            "details": "Enable strict concurrency checking in Package.swift with swiftLanguageVersions: [.v6_1]. Ensure all types conform to Sendable where appropriate. Fix any concurrency warnings or errors. Verify actor isolation boundaries are properly maintained. Check that all closures and continuations are properly isolated. Remove any @unchecked Sendable usage. Validate no data races are possible.",
            "status": "pending",
            "testStrategy": "Build with strict concurrency enabled, run thread sanitizer tests, verify no runtime concurrency issues",
            "parentId": "undefined"
          },
          {
            "id": 7,
            "title": "Write comprehensive actor isolation and stream tests",
            "description": "Create thorough test suite using Swift Testing to verify actor isolation, stream behavior, and concurrent operation safety",
            "dependencies": [
              1,
              2,
              3,
              4,
              5,
              6
            ],
            "details": "Write NetworkStreamTests using Swift Testing framework. Test actor isolation with concurrent access patterns. Verify AsyncStream delivery and cleanup behavior. Write ConnectivityStreamTests for message handling and state streams. Test error propagation with typed throws. Verify proper cleanup and resource management. Test stream cancellation and continuation lifecycle. Add performance tests for concurrent operations.",
            "status": "pending",
            "testStrategy": "Use Swift Testing expectations for async tests, verify with thread sanitizer, test resource cleanup with weak references",
            "parentId": "undefined"
          }
        ],
        "complexity": 6,
        "recommendedSubtasks": 7,
        "expansionPrompt": "Break down into: 1) Create actor NetworkStream with proper isolation, 2) Implement AsyncStream bridges for network state properties, 3) Create actor ConnectivityStream with message handling, 4) Implement AsyncStream for connectivity state and messages, 5) Add async send and activate methods with typed throws, 6) Ensure Swift 6.1 strict concurrency compliance, 7) Write actor isolation and stream tests"
      },
      {
        "id": 8,
        "title": "Implement SundialKitBinary serialization plugin",
        "description": "Create format-agnostic binary serialization plugin with BinarySerializable protocol for efficient WatchConnectivity messaging",
        "details": "Create SundialKitBinary plugin for binary messaging:\n1. Define BinarySerializable protocol:\n   - func binaryData() throws -> Data\n   - init(binaryData: Data) throws\n   - Sendable conformance required\n2. WatchConnectivity integration:\n   - Use sendMessageData(_:replyHandler:) when reachable\n   - Fallback to updateApplicationContext with base64 encoding\n   - Message size validation (65KB limit)\n   - Throw ConnectivityError.messageTooBig if exceeded\n3. Type-safe message handling:\n   - Generic send<M: BinarySerializable>(_ message: M) async throws\n   - Generic request<Req, Res>(_ message: Req, expecting: Res.Type, timeout: TimeInterval) async throws -> Res\n   - Automatic serialization/deserialization\n4. Error handling:\n   - SerializationError for encoding/decoding failures\n   - ConnectivityError for delivery failures\n5. Swift 6.1 with strict concurrency\n6. No external dependencies - format agnostic\n\nExample formats: JSON (Codable), Protobuf, MessagePack, CBOR",
        "testStrategy": "Swift Testing required. Test various binary formats, message size validation, sendMessageData integration, fallback mechanisms, error scenarios, round-trip serialization.",
        "priority": "medium",
        "dependencies": [
          "3"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Define BinarySerializable protocol with Data conversion methods",
            "description": "Create the foundational BinarySerializable protocol with required methods for binary data conversion and Sendable conformance",
            "dependencies": [],
            "details": "Define BinarySerializable protocol in SundialKitBinary module with: func binaryData() throws -> Data for encoding objects to binary, init(binaryData: Data) throws for decoding from binary, and Sendable conformance for Swift 6.1 concurrency. Include SerializationError enum with cases for encoding/decoding failures. Protocol should be format-agnostic to support JSON, Protobuf, MessagePack, CBOR, etc.",
            "status": "pending",
            "testStrategy": "Test protocol conformance with mock implementations, verify Sendable conformance, test error throwing for invalid data",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Implement WatchConnectivity integration with sendMessageData",
            "description": "Create ConnectivityBinaryManager class that integrates with WatchConnectivity's sendMessageData API for efficient binary messaging",
            "dependencies": [
              1
            ],
            "details": "Implement ConnectivityBinaryManager wrapping ConnectivityManager from SundialKitCore. Add sendBinaryData(_:replyHandler:) method using WCSession.sendMessageData when reachable. Handle reply handlers for two-way binary communication. Bridge BinarySerializable protocol to raw Data for sendMessageData. Maintain thread safety and actor isolation for Swift 6.1 strict concurrency.",
            "status": "pending",
            "testStrategy": "Mock WCSession.sendMessageData calls, verify data passthrough, test reachability checks, test reply handler invocation",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Add fallback mechanism using base64 encoding for updateApplicationContext",
            "description": "Implement fallback strategy when device is not reachable using updateApplicationContext with base64-encoded binary data",
            "dependencies": [
              2
            ],
            "details": "Add fallback logic in ConnectivityBinaryManager when isReachable is false. Convert binary Data to base64 string for property list compatibility. Wrap in dictionary with metadata (timestamp, type identifier). Use updateApplicationContext for delivery when paired app is installed but not reachable. Handle decoding on receiver side, converting base64 back to Data. Ensure seamless failover between sendMessageData and updateApplicationContext.",
            "status": "pending",
            "testStrategy": "Test base64 encoding/decoding, verify fallback triggers when not reachable, test updateApplicationContext delivery",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Implement generic send and request methods with type safety",
            "description": "Create type-safe generic methods for sending and requesting binary messages with automatic serialization/deserialization",
            "dependencies": [
              3
            ],
            "details": "Implement generic send<M: BinarySerializable>(_ message: M) async throws method for one-way messaging. Add request<Req: BinarySerializable, Res: BinarySerializable>(_ message: Req, expecting: Res.Type, timeout: TimeInterval) async throws -> Res for request-response patterns. Use Swift concurrency with async/await. Handle automatic serialization to Data and deserialization from Data. Implement timeout handling with Task cancellation. Bridge completion handlers to async/await using CheckedContinuation.",
            "status": "pending",
            "testStrategy": "Test generic type inference, verify serialization round-trips, test timeout scenarios, test cancellation handling",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Add message size validation and error handling",
            "description": "Implement comprehensive message size validation for WatchConnectivity's 65KB limit and robust error handling",
            "dependencies": [
              4
            ],
            "details": "Add size validation before sending, checking Data.count against 65536 bytes (65KB) limit. Throw ConnectivityError.messageTooBig when exceeded. Implement ConnectivityError enum extending existing errors with binary-specific cases. Add detailed error messages with actual vs maximum size. Consider compression strategies for large messages (document but don't implement). Handle all WatchConnectivity error codes and map to appropriate ConnectivityError cases. Ensure errors propagate correctly through async/await chains.",
            "status": "pending",
            "testStrategy": "Test with messages at size boundaries (64KB, 65KB, 66KB), verify error types and messages, test error propagation",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Create comprehensive tests for various binary formats and edge cases",
            "description": "Develop extensive test suite covering different binary formats, error scenarios, and integration edge cases",
            "dependencies": [
              5
            ],
            "details": "Create test implementations for JSON (Codable), mock Protobuf, MessagePack simulation, and CBOR-like formats. Test round-trip serialization for each format. Verify size validation with boundary testing. Test concurrent sends and receives. Validate timeout behavior with various durations. Test network state transitions during message sending. Verify fallback mechanism triggers correctly. Test error recovery and retry logic. Include performance tests for serialization overhead. Use Swift Testing framework with @Test attributes.",
            "status": "pending",
            "testStrategy": "Unit tests for each format, integration tests with mock ConnectivitySession, performance benchmarks, concurrent access tests",
            "parentId": "undefined"
          }
        ],
        "complexity": 5,
        "recommendedSubtasks": 6,
        "expansionPrompt": "Break down into: 1) Define BinarySerializable protocol with Data conversion methods, 2) Implement WatchConnectivity integration with sendMessageData, 3) Add fallback mechanism using base64 encoding for updateApplicationContext, 4) Implement generic send and request methods with type safety, 5) Add message size validation and error handling, 6) Create tests for various binary formats and edge cases"
      },
      {
        "id": 9,
        "title": "Migrate all tests to Swift Testing",
        "description": "Convert entire test suite from XCTest to Swift Testing framework across all packages (requires Swift 6.1+ - Swift 5.9/5.10/6.0 support dropped)",
        "status": "pending",
        "dependencies": [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8"
        ],
        "priority": "high",
        "details": "Comprehensive Swift Testing migration:\n\n**Prerequisites**: Swift 6.1+ is now required. Support for Swift 5.9, 5.10, and 6.0 has been dropped to enable Swift Testing adoption. Package@swift-5.9.swift manifests removed, CI/CD updated to test only Swift 6.1+ builds.\n\n1. Core package tests (SundialKitCore, Network, Connectivity):\n   - Replace XCTestCase with @Test functions\n   - Convert XCTAssert* to Swift Testing assertions\n   - Use @Suite for test organization\n   - Parameterized tests for multiple scenarios\n2. Plugin package tests:\n   - SundialKitCombine: Publisher testing with Swift Testing\n   - SundialKitMessagable: Encoding/decoding tests\n3. Testing utilities:\n   - Mock implementations using Swift Testing\n   - Test fixtures and helpers\n   - Async test support\n4. CI/CD updates:\n   - GitHub Actions configuration\n   - Code coverage reporting\n   - Test performance tracking\n5. Documentation:\n   - Testing guide for contributors\n   - Example test patterns\n\nTools: Xcode 16+, Swift 6.1+, swift test command",
        "testStrategy": "Meta-testing: Verify all tests pass, maintain or improve code coverage (target 90%+), ensure CI/CD pipeline works, validate test performance.",
        "subtasks": [
          {
            "id": 1,
            "title": "Migrate SundialKitCore tests to Swift Testing framework",
            "description": "Convert all SundialKitCore test files from XCTest to Swift Testing, including protocol conformance tests and mock implementations",
            "dependencies": [],
            "details": "Replace XCTestCase with @Test functions and @Suite for organization. Convert all XCTAssert statements to Swift Testing assertions (#expect, #require). Update mock implementations to use Swift Testing patterns. Ensure Sendable conformance tests are properly migrated. Update test file imports from XCTest to Testing framework.",
            "status": "pending",
            "testStrategy": "Run migrated tests to ensure all pass, verify code coverage remains at same level or higher, validate that mock implementations work correctly with new framework",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Migrate NetworkMonitor and PathMonitor tests with mocks",
            "description": "Convert NetworkMonitor tests in SundialKitNetwork from XCTest to Swift Testing, including all mock implementations and observer patterns",
            "dependencies": [
              1
            ],
            "details": "Convert NetworkObserverTests, NWPathMonitorTests, NWInterfaceTests, and PathStatusNetworkTests from XCTest to Swift Testing. Migrate MockPathMonitor and MockNetworkPing to Swift Testing patterns. Convert observer notification tests using @Test with async support. Update thread safety tests to use Swift Testing concurrency features. Convert state change tests to use parameterized testing with @Test(arguments:). Ensure platform-specific behavior tests work on all supported platforms.",
            "status": "pending",
            "testStrategy": "Verify all network state transitions are properly tested, validate mock implementations trigger correct behaviors, ensure concurrent observer tests pass reliably",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Migrate ConnectivityManager tests with platform scenarios",
            "description": "Convert ConnectivityManager tests in SundialKitConnectivity from XCTest to Swift Testing, handling iOS and watchOS specific behaviors",
            "dependencies": [
              1
            ],
            "details": "Migrate ConnectivityObserver tests (ConnectivityObserverInternalTests, ConnectivityObserverMessageTests, ConnectivityObserverPropertyTests) to Swift Testing. Convert MockConnectivitySession and delegate pattern tests. Update platform-specific tests using @available annotations with Swift Testing. Convert message sending/receiving tests to use async testing patterns. Migrate timeout and fallback mechanism tests. Convert reachability change tests to use parameterized testing for different scenarios.",
            "status": "pending",
            "testStrategy": "Test on both iOS and watchOS simulators, verify platform-specific delegate methods are properly tested, ensure message routing logic is fully covered",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Convert SundialKitCombine plugin tests to Swift Testing",
            "description": "Migrate all Combine publisher tests from XCTest to Swift Testing, including NetworkObserver and ConnectivityObserver reactive tests",
            "dependencies": [
              2,
              3
            ],
            "details": "Convert PassthroughSubjectTests and publisher testing from XCTest expectations to Swift Testing async/await patterns. Migrate PassthroughSubject tests and anyPublisher(for:) extension tests. Update subscription lifecycle tests using Swift Testing features. Convert publisher value and completion tests to use #expect with async support. Ensure all reactive streams are properly tested.",
            "status": "pending",
            "testStrategy": "Verify all publishers emit expected values, test error propagation through publishers, validate subscription cleanup and memory management",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Convert SundialKitMessagable plugin tests",
            "description": "Migrate Messagable protocol tests and MessageDecoder tests from XCTest to Swift Testing framework",
            "dependencies": [
              1
            ],
            "details": "Convert MessagableTests, MessageDecoderTests, ConnectivitySendContextTests, and ConnectivityReceiveContextTests from XCTest to Swift Testing. Migrate encoding/decoding tests to use Swift Testing assertions. Update MockMessage implementations to Swift Testing patterns. Convert type registration tests using parameterized testing for multiple message types. Convert ConnectivityMessage dictionary tests. Ensure property list compatibility tests are properly migrated.",
            "status": "pending",
            "testStrategy": "Test encoding/decoding roundtrips for all message types, verify type safety with invalid messages, validate property list compatibility",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Update CI/CD configuration for Swift Testing",
            "description": "Modify GitHub Actions workflows and scripts to support Swift Testing framework and reporting",
            "dependencies": [
              1,
              2,
              3,
              4,
              5
            ],
            "details": "Update GitHub Actions workflow to use swift test with Swift Testing support. Configure code coverage reporting to work with Swift Testing output. Update test result formatting for GitHub Actions annotations. Ensure parallel test execution is properly configured. Add test performance tracking and reporting. Update matrix testing for all supported platforms.",
            "status": "pending",
            "testStrategy": "Verify CI pipeline runs successfully on all platforms, ensure coverage reports are generated correctly, validate test results are properly displayed in GitHub",
            "parentId": "undefined"
          },
          {
            "id": 7,
            "title": "Create testing utilities and migration documentation",
            "description": "Develop Swift Testing utilities, helpers, and comprehensive documentation for contributors",
            "dependencies": [
              1,
              2,
              3,
              4,
              5
            ],
            "details": "Create common test utilities using Swift Testing patterns (fixtures, helpers, custom assertions). Document Swift Testing best practices and patterns specific to SundialKit. Create migration guide from XCTest to Swift Testing for future contributors. Develop example test patterns for different scenarios (async, actors, publishers). Update README with testing instructions using Swift Testing.",
            "status": "pending",
            "testStrategy": "Review documentation for completeness and accuracy, validate example code compiles and runs, ensure utilities are used consistently across test suite",
            "parentId": "undefined"
          }
        ],
        "complexity": 8,
        "recommendedSubtasks": 9,
        "expansionPrompt": "Break down into: 1) Migrate SundialKitCore tests to Swift Testing with @Test and @Suite, 2) Migrate NetworkMonitor tests including mock implementations, 3) Migrate ConnectivityManager tests with platform-specific scenarios, 4) Convert SundialKitCombine plugin tests, 5) Convert SundialKitMessagable plugin tests, 6) Convert SundialKitStream plugin tests, 7) Convert SundialKitBinary plugin tests, 8) Update CI/CD configuration for Swift Testing, 9) Create testing utilities and documentation"
      },
      {
        "id": 10,
        "title": "Create documentation and example applications",
        "description": "Develop comprehensive documentation, migration guides, and example apps demonstrating all v2.0.0 features and migration paths",
        "details": "Documentation and examples:\n1. API Documentation:\n   - DocC documentation for all packages\n   - Inline code documentation\n   - Architecture diagrams\n   - Plugin development guide\n2. Migration Documentation:\n   - MIGRATION.md with step-by-step guide\n   - Compatibility matrix (v1 vs v2)\n   - Common migration patterns\n   - Troubleshooting guide\n3. Example Applications:\n   - V1 compatibility app (Combine + Messagable)\n   - Modern async/await app (Stream)\n   - Binary messaging examples (JSON, custom)\n   - Mixed approach app (Combine + Binary)\n   - iPhone/Watch communication demo\n4. README Updates:\n   - Main README.md with quick start\n   - PLUGINS.md explaining architecture\n   - Update CLAUDE.md for AI assistance\n5. Binary Format Examples:\n   - JSON via Codable\n   - Protobuf integration guide\n   - MessagePack example\n   - Custom binary format\n6. Real-world integration:\n   - Bitness app case study\n   - Performance comparisons\n   - Best practices from production use",
        "testStrategy": "Documentation review, example apps must compile and run correctly, test all code snippets in documentation, validate migration guide with actual v1 project.",
        "priority": "medium",
        "dependencies": [
          "5",
          "6",
          "7",
          "8"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Create DocC documentation for all public APIs",
            "description": "Generate comprehensive DocC documentation for SundialKitCore, SundialKitNetwork, SundialKitConnectivity, and all plugin packages with inline code documentation and architecture diagrams",
            "dependencies": [],
            "details": "Set up DocC configuration for the entire SundialKit v2.0.0 package. Document all public protocols, classes, structs, and enums with detailed descriptions. Include code examples for each major API. Create architecture diagrams showing the relationship between core packages and plugins. Document the plugin system architecture with clear examples of how to create custom plugins. Ensure all public APIs have proper documentation comments with parameters, return values, and usage examples.",
            "status": "pending",
            "testStrategy": "Verify DocC builds without warnings, all public APIs are documented, code examples compile correctly, and documentation renders properly in Xcode",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Write MIGRATION.md with step-by-step v1 to v2 guide",
            "description": "Create comprehensive migration guide documenting the transition from SundialKit v1.0.0 to v2.0.0 with compatibility matrix and common patterns",
            "dependencies": [
              1
            ],
            "details": "Create MIGRATION.md file with detailed step-by-step instructions for migrating from v1.0.0 to v2.0.0. Include a compatibility matrix showing v1 vs v2 API differences. Document breaking changes and their solutions. Provide migration patterns for NetworkObserver to NetworkMonitor + plugins, ConnectivityObserver to ConnectivityManager + plugins, and Messagable to BinarySerializable. Include troubleshooting section for common migration issues. Add code snippets showing before/after examples for typical use cases.",
            "status": "pending",
            "testStrategy": "Test migration guide by converting an actual v1 project to v2, verify all code examples compile, validate compatibility matrix accuracy",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Create v1 compatibility example app using Combine and Messagable plugins",
            "description": "Develop example iOS/watchOS app demonstrating v1 API compatibility using SundialKitCombine and SundialKitMessagable plugins",
            "dependencies": [
              1
            ],
            "details": "Create a fully functional iOS and watchOS example app that uses the v1-compatible API surface through plugins. Implement NetworkObserver using SundialKitCombine plugin showing all Combine publishers. Demonstrate ConnectivityObserver with Messagable protocol for type-safe messaging. Include examples of PathStatus monitoring, network state changes, message sending/receiving, and reachability handling. Show how existing v1 code can work with minimal changes using the compatibility plugins. Include proper error handling and state management patterns.",
            "status": "pending",
            "testStrategy": "Verify app builds and runs on iOS and watchOS, test all network monitoring features, validate message passing between devices, ensure v1 API patterns work correctly",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Create modern async/await example using Stream plugin",
            "description": "Build example app showcasing modern Swift concurrency with SundialKitStream plugin using async sequences and structured concurrency",
            "dependencies": [
              1
            ],
            "details": "Develop an iOS/watchOS example app using modern Swift concurrency features with SundialKitStream plugin. Implement async sequences for network state monitoring and message streams. Show structured concurrency patterns with Task groups for parallel operations. Demonstrate proper actor isolation for thread-safe state management. Include examples of async/await message sending, AsyncStream-based state observation, and cancellation handling. Show integration with SwiftUI using @MainActor and async view modifiers. Include performance comparisons with Combine approach.",
            "status": "pending",
            "testStrategy": "Test async/await patterns work correctly, verify no data races with Thread Sanitizer, validate cancellation and error handling, ensure SwiftUI integration works smoothly",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Create binary messaging examples with multiple formats",
            "description": "Develop example implementations demonstrating JSON via Codable, Protobuf, MessagePack, and custom binary format with SundialKitBinary plugin",
            "dependencies": [
              1
            ],
            "details": "Create comprehensive examples showing different binary serialization formats with SundialKitBinary plugin. Implement JSON serialization using Codable with proper error handling. Add Protobuf integration guide with .proto file examples and Swift code generation. Include MessagePack example with size comparisons. Develop custom binary format example showing bit-packing for maximum efficiency. Compare message sizes and performance across all formats. Include proper versioning and backward compatibility strategies. Show fallback handling when messages exceed WatchConnectivity size limits.",
            "status": "pending",
            "testStrategy": "Verify all serialization formats work correctly, test round-trip encoding/decoding, validate size limits are enforced, benchmark performance differences",
            "parentId": "undefined"
          },
          {
            "id": 6,
            "title": "Develop iPhone/Watch communication demo app",
            "description": "Create comprehensive demo app showcasing all WatchConnectivity features including real-time messaging, file transfers, and application context updates",
            "dependencies": [
              3,
              4,
              5
            ],
            "details": "Build a feature-complete iPhone and Apple Watch demo app showing all aspects of device communication. Implement real-time message passing with reply handlers. Demonstrate file transfer capabilities with progress tracking. Show application context updates for background sync. Include complication data updates and user info transfers. Implement proper reachability handling with automatic fallback strategies. Add debugging UI showing connection state, message history, and performance metrics. Include examples of both v1 compatibility mode and modern v2 patterns side by side.",
            "status": "pending",
            "testStrategy": "Test on actual iPhone and Apple Watch devices, verify all communication methods work, validate fallback mechanisms, ensure complications update correctly",
            "parentId": "undefined"
          },
          {
            "id": 7,
            "title": "Update README and PLUGINS documentation",
            "description": "Revise main README.md with v2.0.0 quick start guide and create comprehensive PLUGINS.md explaining the plugin architecture",
            "dependencies": [
              2
            ],
            "details": "Update README.md with v2.0.0 overview, installation instructions, and quick start examples for common use cases. Create PLUGINS.md with detailed explanation of the plugin architecture, available plugins (Combine, Stream, Binary, Messagable), and guide for creating custom plugins. Update CLAUDE.md with v2.0.0 specific instructions for AI assistance including new package structure and plugin system. Include decision tree helping developers choose between core classes and plugins. Add performance considerations and best practices section. Document platform-specific considerations and minimum deployment targets.",
            "status": "pending",
            "testStrategy": "Review documentation for accuracy and completeness, verify all code snippets compile, test installation instructions on clean project",
            "parentId": "undefined"
          },
          {
            "id": 8,
            "title": "Create real-world integration guide with performance comparisons",
            "description": "Develop comprehensive guide showcasing Bitness app integration as case study with detailed performance benchmarks comparing v1 and v2 approaches",
            "dependencies": [
              6,
              7
            ],
            "details": "Create detailed case study documenting v2.0.0 integration in Bitness app production environment. Include performance benchmarks comparing v1 Combine approach vs v2 plugin-based architecture. Measure memory usage, battery impact, and message latency across different scenarios. Document best practices discovered during production deployment. Show real-world error handling and recovery strategies. Include metrics on binary message size reduction using different formats. Provide decision matrix for choosing between Combine, Stream, or custom observers. Document lessons learned and optimization techniques for high-frequency messaging scenarios.",
            "status": "pending",
            "testStrategy": "Validate performance metrics with actual measurements, verify case study accuracy with production data, test optimization recommendations work as described",
            "parentId": "undefined"
          }
        ],
        "complexity": 7,
        "recommendedSubtasks": 8,
        "expansionPrompt": "Break down into: 1) Create DocC documentation for all public APIs, 2) Write MIGRATION.md with step-by-step v1 to v2 guide, 3) Create v1 compatibility example app using Combine and Messagable plugins, 4) Create modern async/await example using Stream plugin, 5) Create binary messaging examples with multiple formats, 6) Develop iPhone/Watch communication demo app, 7) Update README and PLUGINS documentation, 8) Create real-world integration guide with performance comparisons"
      },
      {
        "id": 11,
        "title": "Set up multi-repository structure with git subrepo",
        "description": "Set up git-subrepo for the 4 plugin repositories (SundialKitStream, SundialKitBinary, SundialKitCombine, SundialKitMessagable) that will be linked to the main SundialKit monorepo",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "details": "Based on the corrected repository structure: Main SundialKit monorepo contains SundialKitCore, SundialKitNetwork, SundialKitConnectivity, and SundialKit umbrella as internal targets. Separate repositories linked via git-subrepo: SundialKitStream, SundialKitBinary, SundialKitCombine, SundialKitMessagable. This task focuses on setting up git-subrepo infrastructure for the 4 plugin repositories only, not the core modules which remain in the monorepo.",
        "testStrategy": "Verify git subrepo commands work correctly, test plugin repository linking, ensure monorepo structure remains intact while plugin repos can be developed independently and synchronized via git-subrepo",
        "subtasks": [
          {
            "id": 1,
            "title": "Install and configure git-subrepo tooling",
            "description": "Install git-subrepo on development environment and set up basic configuration for multi-repository management",
            "dependencies": [],
            "details": "Install git-subrepo via homebrew (brew install git-subrepo) or from source (https://github.com/ingydotnet/git-subrepo). Verify installation with git subrepo --version. Configure git-subrepo settings in .gitconfig if needed. Test basic commands like git subrepo status and git subrepo help to ensure proper setup. Document installation steps in README for team members.",
            "status": "done",
            "testStrategy": "Verify git subrepo commands are available, test init/clone/push/pull operations on a test repository, validate .gitsubrepo tracking files are created correctly",
            "updatedAt": "2025-10-12T20:34:12.841Z",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Create and initialize SundialKitCombine plugin repository",
            "description": "Create GitHub repository for SundialKitCombine plugin with v1.0.0 compatibility layer implementing Combine reactive patterns",
            "dependencies": [
              1
            ],
            "details": "Create new GitHub repo at brightdigit/SundialKitCombine. Initialize Swift package with dependency on SundialKitCore. This will contain the v1.0.0 compatibility layer with NetworkObserver and ConnectivityObserver wrapping the core implementations. Set up Package.swift with iOS 13+, watchOS 6+, tvOS 13+, macOS 10.15+ platform requirements and Combine framework dependency. Configure as plugin repository that will be linked to main monorepo via git-subrepo.",
            "status": "done",
            "testStrategy": "Verify Package.swift builds correctly, ensure Combine integration compiles, test repository can be linked via git-subrepo to main monorepo",
            "parentId": "undefined",
            "updatedAt": "2025-10-12T20:36:33.210Z"
          },
          {
            "id": 3,
            "title": "Create and initialize SundialKitMessagable plugin repository",
            "description": "Create GitHub repository for SundialKitMessagable plugin containing v1.0.0 dictionary-based messaging compatibility",
            "dependencies": [
              1
            ],
            "details": "Create repo at brightdigit/SundialKitMessagable. Initialize Swift package with SundialKitCore dependency. This will contain the v1.0.0 Messagable protocol, MessageDecoder, and ConnectivityMessage typealias for dictionary-based WatchConnectivity messaging. Configure Package.swift with iOS 13+, watchOS 6+, tvOS 13+, macOS 10.13+ platform requirements. Set up as plugin repository for git-subrepo linking.",
            "status": "done",
            "testStrategy": "Build package independently, verify Messagable protocol compatibility with v1.0.0, test git-subrepo integration with main repository",
            "parentId": "undefined",
            "updatedAt": "2025-10-12T20:36:34.143Z"
          },
          {
            "id": 4,
            "title": "Create and initialize SundialKitStream plugin repository",
            "description": "Create GitHub repository for SundialKitStream plugin implementing modern Swift 6.1 async/await patterns",
            "dependencies": [
              1
            ],
            "details": "Create repo at brightdigit/SundialKitStream. Initialize Swift package with SundialKitCore dependency and Swift 6.1 minimum requirement. This will contain actor-based NetworkStream and ConnectivityStream with AsyncStream implementations for modern Swift concurrency. Configure Package.swift with iOS 13+, watchOS 6+, tvOS 13+, macOS 10.15+ platforms and strict concurrency enabled. Set up as plugin repository for git-subrepo linking.",
            "status": "done",
            "testStrategy": "Build with Swift 6.1 and strict concurrency enabled, verify actor-based implementations compile correctly, test AsyncStream functionality, validate git-subrepo integration",
            "parentId": "undefined",
            "updatedAt": "2025-10-12T20:36:35.117Z"
          },
          {
            "id": 5,
            "title": "Create and initialize SundialKitBinary plugin repository",
            "description": "Create GitHub repository for SundialKitBinary plugin implementing format-agnostic binary serialization",
            "dependencies": [
              1
            ],
            "details": "Create repo at brightdigit/SundialKitBinary. Initialize Swift package with SundialKitCore dependency and Swift 6.1 requirement. This will contain BinarySerializable protocol and WatchConnectivity integration using sendMessageData for efficient binary messaging. Configure Package.swift with iOS 13+, watchOS 6+, tvOS 13+, macOS 10.15+ platforms. Set up as plugin repository for git-subrepo linking.",
            "status": "done",
            "testStrategy": "Build with Swift 6.1, verify BinarySerializable protocol design, test WatchConnectivity sendMessageData integration, validate git-subrepo setup",
            "parentId": "undefined",
            "updatedAt": "2025-10-12T20:36:36.055Z"
          },
          {
            "id": 6,
            "title": "Configure git-subrepo links in main monorepo",
            "description": "Set up git-subrepo tracking for all 4 plugin repositories in the main SundialKit monorepo",
            "dependencies": [
              2,
              3,
              4,
              5
            ],
            "details": "In main SundialKit monorepo (Sources/SundialKit, Sources/SundialKitCore, Sources/SundialKitNetwork, Sources/SundialKitConnectivity), add git-subrepo links for the 4 plugin repositories. Use git subrepo clone for each plugin: SundialKitCombine, SundialKitMessagable, SundialKitStream, SundialKitBinary. Configure .gitsubrepo files for tracking. Test git subrepo pull/push commands. Update main Package.swift to reference plugin directories. Document git-subrepo workflow for plugin development.",
            "status": "done",
            "testStrategy": "Verify git subrepo status shows all 4 plugin repos, test pull/push synchronization between main repo and plugins, ensure main monorepo Package.swift can reference plugin packages, validate CI builds work with subrepo structure",
            "parentId": "undefined",
            "updatedAt": "2025-10-12T21:30:05.278Z"
          }
        ],
        "updatedAt": "2025-10-12T21:30:05.278Z"
      },
      {
        "id": 12,
        "title": "Remove git subrepos and finalize repository structure",
        "description": "After migration is complete, remove git subrepo tracking from the umbrella repository to transition to standard package dependencies",
        "details": "",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "10",
          "11"
        ],
        "priority": "medium",
        "subtasks": [
          {
            "id": 1,
            "title": "Remove git subrepo configuration and tracking files",
            "description": "Remove all git subrepo configuration files, tracking metadata, and related git configurations from the umbrella repository",
            "dependencies": [],
            "details": "Remove .gitrepo files for SundialKitCore, SundialKitNetwork, and SundialKitConnectivity subrepos. Remove git subrepo configuration from git config. Clean up any subrepo-specific git hooks or metadata files that were created during the subrepo setup process.",
            "status": "pending",
            "testStrategy": "Verify no .gitrepo files remain, confirm git config has no subrepo entries, ensure git status shows clean working directory",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Update Package.swift to use standard package dependencies",
            "description": "Replace subrepo path dependencies with proper Swift Package Manager dependencies pointing to the separate repositories",
            "dependencies": [
              1
            ],
            "details": "Modify Package.swift to replace local path dependencies for SundialKitCore, SundialKitNetwork, and SundialKitConnectivity with proper package dependencies using .package(url:, from:) syntax. Update target dependencies to reference the external packages. Ensure version constraints are properly specified for each dependency.",
            "status": "pending",
            "testStrategy": "Swift build succeeds with external dependencies, swift package resolve works correctly, Package.resolved reflects external repositories",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Remove local source directories for subrepo packages",
            "description": "Remove the local Sources subdirectories that were managed by git subrepo for the core packages",
            "dependencies": [
              2
            ],
            "details": "Remove Sources/SundialKitCore, Sources/SundialKitNetwork, and Sources/SundialKitConnectivity directories from the umbrella repository since these are now managed as separate repositories. Update .gitignore to ensure these directories are not accidentally re-added. Clean up any build artifacts or derived data related to these local sources.",
            "status": "pending",
            "testStrategy": "Verify directories are removed, build still succeeds with external dependencies, git status shows clean working directory",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Update CI/CD workflows and scripts",
            "description": "Modify GitHub Actions workflows and build scripts to handle standard package dependencies instead of subrepo management",
            "dependencies": [
              3
            ],
            "details": "Update .github/workflows files to remove git subrepo commands and replace with standard swift package manager commands. Modify Scripts/build.sh and other build scripts to remove subrepo-specific logic. Update CI to use swift package resolve instead of git subrepo pull. Remove any subrepo-specific environment variables or configurations from CI.",
            "status": "pending",
            "testStrategy": "CI builds pass with external dependencies, all GitHub Actions workflows execute successfully, build scripts work without subrepo commands",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Update documentation and README for standard package structure",
            "description": "Update project documentation to reflect the transition from subrepos to standard Swift Package Manager dependencies",
            "dependencies": [
              4
            ],
            "details": "Update README.md to remove references to git subrepo commands and replace with standard SPM usage. Modify CLAUDE.md to remove subrepo-related development instructions. Update any developer documentation that referenced the subrepo structure. Add instructions for contributing to the separate repositories. Update package dependency examples in documentation.",
            "status": "pending",
            "testStrategy": "Documentation accurately reflects new structure, all code examples work with external dependencies, contribution guidelines are clear",
            "parentId": "undefined"
          }
        ]
      },
      {
        "id": 13,
        "title": "Migrate Sundial demo application to SundialKit v2.0.0 monorepo",
        "description": "Import the Sundial iOS/watchOS demo application from the external repository into the SundialKit monorepo using a phased approach. Phase 1: Import with git subtree add and maintain v1.0.0 APIs as validation baseline. Phase 2: Migrate to SundialKit v2.0.0 APIs with SundialKitCombine and SundialKitStream as those plugins complete.",
        "status": "pending",
        "dependencies": [
          1,
          2,
          3
        ],
        "priority": "medium",
        "details": "Phased migration of Sundial demo application to serve as integration test bed during SundialKit v2.0.0 development:\n\n**Phase 1: Early Import and Validation Baseline (Tasks 1,2,3 dependencies)**\n\n1. Repository Import with git subtree add:\n   - Use git subtree add --prefix=Examples/Sundial https://github.com/brightdigit/Sundial.git main to import with full history preservation\n   - Maintain original XcodeGen project structure as working baseline\n   - Preserve all commits, authors, and timestamps for historical reference\n   - Document XcodeGen configuration for reference during SPM migration\n\n2. Validation Baseline Setup:\n   - Keep demo on existing v1.0.0 SundialKit APIs initially\n   - Ensure demo builds and runs with current SundialKit umbrella package\n   - Establish baseline functionality: iPhone  Apple Watch communication, network monitoring, color messaging\n   - Create integration test suite to validate core functionality\n   - Document current API usage patterns for migration reference\n\n3. Basic Swift Package Manager Integration:\n   - Add minimal Package.swift configuration for future SPM targets\n   - Configure basic executable products (without full implementation yet)\n   - Maintain XcodeGen as primary build system during Phase 1\n   - Test both build systems work in parallel\n\n**Phase 2: v2.0.0 API Migration (After Tasks 5,7 complete)**\n\n4. SundialKitCombine Migration:\n   - Replace v1.0.0 imports with SundialKitCombine plugin\n   - Update NetworkObserver and ConnectivityObserver to use compatibility layer\n   - Maintain existing Combine-based architecture with @Published properties\n   - Use SundialKitMessagable for color message encoding/decoding\n   - Minimal code changes to preserve existing patterns\n\n5. SundialKitStream Implementation:\n   - Create modern async/await version using SundialKitStream\n   - Replace Combine publishers with AsyncStream APIs\n   - Implement actor-based NetworkObserver and ConnectivityObserver\n   - Use SundialKitBinary for efficient binary serialization\n   - Add proper @MainActor annotations and Swift 6.1 concurrency compliance\n\n6. Shared Components and UI:\n   - Extract common SwiftUI views for use by both variants\n   - Implement ColorPickerView, ColorDisplayView, NetworkStatusView, ConnectionStatusView\n   - Create protocol abstractions to share UI between concurrency models\n   - Add error handling and recovery UI components\n\n7. Documentation and Testing:\n   - Create comprehensive README with architecture comparison\n   - Document migration patterns from v1.0.0 to v2.0.0\n   - Add unit and UI tests for both implementations\n   - Update CI/CD to build and test demo applications\n\n**Integration Test Benefits:**\n- Early validation of core components (Tasks 1,2,3) with real application\n- Regression testing during plugin development (Tasks 5,7)\n- Demonstration of migration path from v1.0.0 to v2.0.0\n- Real-world testing of WatchConnectivity and Network frameworks\n- Documentation of best practices for both concurrency models",
        "testStrategy": "Phased testing approach matching development phases:\n\n**Phase 1 Testing (Early Import):**\n- Git history preservation: Verify all original commits, authors, and timestamps maintained\n- Baseline functionality: Demo runs on v1.0.0 APIs without regressions\n- Build system compatibility: Both XcodeGen and basic SPM configurations work\n- Integration validation: iPhone  Apple Watch communication functions correctly\n- Network monitoring: Cellular/wifi/expensive status updates properly\n- Color messaging: Color selection and transmission works between devices\n\n**Phase 2 Testing (v2.0.0 Migration):**\n- API migration verification: SundialDemoCombine uses compatibility APIs without warnings\n- Modern concurrency: SundialDemoStream has zero Swift 6.1 concurrency violations\n- Feature parity: Both variants maintain all original demo functionality\n- Performance comparison: Binary serialization (Stream) vs dictionary (Combine) efficiency\n- UI responsiveness: Smooth updates without dropped frames in both implementations\n- Error handling: Proper recovery from connection failures and message send errors\n\n**Continuous Integration:**\n- Automated builds for both demo variants on all supported platforms\n- Regression testing when core components (Tasks 1,2,3) change\n- Progressive testing as plugins (Tasks 5,7) become available\n- Documentation accuracy: README instructions successfully guide setup\n- Real device testing: Validation on actual iPhone and Apple Watch hardware",
        "subtasks": [
          {
            "id": 1,
            "title": "Import Sundial repository with git subtree add preserving full history",
            "description": "Use git subtree add to import the complete Sundial repository at https://github.com/brightdigit/Sundial into Examples/Sundial/ while preserving all git history, commits, authors, and timestamps for future reference and maintaining historical context",
            "dependencies": [],
            "details": "Execute git subtree add --prefix=Examples/Sundial https://github.com/brightdigit/Sundial.git main to import the repository with complete history preservation. Verify history import by running git log --oneline --graph Examples/Sundial and git log --follow Examples/Sundial/project.yml to confirm all historical commits are accessible. Analyze the imported structure including iOS app, watchOS app, XcodeGen configuration (project.yml), target definitions, and build settings. Document the current v1.0.0 API usage patterns including NetworkObserver, ConnectivityObserver, and message passing implementation for migration reference",
            "status": "pending",
            "testStrategy": "Verify git log shows all original commits with correct authors and timestamps, confirm git blame displays original contributors for existing code, validate complete file structure from Sundial repository is present in Examples/Sundial/"
          },
          {
            "id": 2,
            "title": "Establish v1.0.0 API validation baseline",
            "description": "Ensure the imported Sundial demo builds and runs correctly with current SundialKit v1.0.0 APIs, creating a validation baseline for regression testing during v2.0.0 development",
            "dependencies": [
              1
            ],
            "details": "Verify the imported demo application builds and runs with existing SundialKit umbrella package using XcodeGen. Test core functionality: iPhone app launching and displaying network status, Apple Watch app showing connectivity state, color selection transmission between devices, reachability status updates, and network state changes reflection in UI. Document current API usage patterns including import statements, observer instantiation, publisher subscriptions, and message handling. Create integration test checklist for validating functionality after core component changes. Establish performance baseline measurements for comparison during v2.0.0 migration",
            "status": "pending",
            "testStrategy": "Demo builds without errors using XcodeGen, runs on iOS 14.8+ and watchOS 7.4+ simulators, color transmission works between iPhone and Watch, network status updates correctly reflect system changes"
          },
          {
            "id": 3,
            "title": "Add basic Package.swift configuration for future SPM migration",
            "description": "Update the root Package.swift to include basic executable product and target definitions for the Sundial demo, preparing for eventual Swift Package Manager migration while maintaining XcodeGen as the primary build system",
            "dependencies": [
              2
            ],
            "details": "Add executable product definition to root Package.swift: .executable(name: \"SundialDemo\", targets: [\"SundialDemo\"]). Define corresponding target with dependency on SundialKit umbrella package and proper source path pointing to Examples/Sundial/. Set deployment targets to match existing iOS 14.8+ and watchOS 7.4+ requirements. Configure basic resource handling for assets and localization files. Ensure both XcodeGen and SPM build systems can coexist without conflicts. Test that swift build works for basic compilation while XcodeGen remains the primary development environment",
            "status": "pending",
            "testStrategy": "swift build compiles SundialDemo target successfully, XcodeGen project generation still works without conflicts, both build systems produce equivalent binary functionality"
          },
          {
            "id": 4,
            "title": "Create integration test suite for baseline functionality",
            "description": "Develop comprehensive integration tests for the imported demo to validate core SundialKit functionality and serve as regression tests during v2.0.0 development",
            "dependencies": [
              3
            ],
            "details": "Create Tests/SundialDemoTests/ directory with integration test suite covering: network monitoring state changes, WatchConnectivity session activation and reachability, message encoding/decoding for color data, UI state updates in response to connectivity changes, error handling for connection failures, and cross-platform communication flows. Use existing SundialKit test patterns and Mock* implementations where appropriate. Configure test targets in both Package.swift and XcodeGen project for parallel test execution. Include performance benchmarks for message latency and UI responsiveness to establish baseline measurements for v2.0.0 comparison",
            "status": "pending",
            "testStrategy": "All integration tests pass consistently, achieve 80%+ code coverage for demo business logic, performance benchmarks complete within expected thresholds, tests run successfully in both SPM and XcodeGen environments"
          },
          {
            "id": 5,
            "title": "Document current v1.0.0 API patterns and migration roadmap",
            "description": "Create comprehensive documentation of the current demo implementation using v1.0.0 APIs and establish clear migration roadmap for Phase 2 v2.0.0 transition",
            "dependencies": [
              4
            ],
            "details": "Create Examples/Sundial/BASELINE.md documenting current v1.0.0 implementation including: import statements and dependency structure, NetworkObserver and ConnectivityObserver usage patterns, Combine publisher chains and @Published property subscriptions, message encoding/decoding with ColorMessage, error handling approaches, and UI update mechanisms. Document XcodeGen configuration details including project.yml structure, target definitions, and build settings. Create MIGRATION.md outlining Phase 2 roadmap: SundialKitCombine compatibility migration steps, SundialKitStream modern async/await conversion, timeline dependencies on Tasks 5 and 7 completion, testing strategy for ensuring feature parity, and success criteria for each migration phase",
            "status": "pending",
            "testStrategy": "Documentation accurately reflects current implementation details, migration roadmap provides clear actionable steps, code examples in documentation compile and run correctly"
          },
          {
            "id": 6,
            "title": "Setup CI/CD for demo integration testing",
            "description": "Configure GitHub Actions workflows to build and test the imported demo application, providing continuous validation during core component development",
            "dependencies": [
              5
            ],
            "details": "Update .github/workflows/ci.yml to include Sundial demo build verification using both XcodeGen and SPM. Add specific job matrix for demo testing across iOS 14.8+ and watchOS 7.4+ platforms. Configure integration test execution in CI environment with proper simulator setup. Add demo build status checks as required GitHub Actions for pull requests affecting core components (Tasks 1,2,3). Include performance regression detection by comparing benchmark results against baseline measurements. Configure build artifact collection for demo applications to enable manual testing on devices",
            "status": "pending",
            "testStrategy": "CI successfully builds demo using both build systems, integration tests pass consistently in CI environment, performance benchmarks complete within acceptable variance from baseline"
          },
          {
            "id": 7,
            "title": "Validate demo serves as effective integration test bed",
            "description": "Verify the imported demo application effectively validates core SundialKit functionality and provides meaningful regression testing during ongoing v2.0.0 development",
            "dependencies": [
              6
            ],
            "details": "Test demo's effectiveness as integration test bed by simulating core component changes and verifying regression detection. Validate demo catches breaking changes in Tasks 1,2,3 components through automated testing. Confirm demo provides meaningful feedback for NetworkMonitor and ConnectivityManager development. Test demo's ability to validate real-world usage patterns including network state transitions, WatchConnectivity session lifecycle, message transmission reliability, and UI responsiveness. Document integration feedback loop for core component developers including test failure interpretation, debugging guidance, and performance impact assessment",
            "status": "pending",
            "testStrategy": "Demo successfully detects regressions when core components change, provides actionable feedback for development teams, integration tests complete within reasonable CI time limits, real device testing validates simulator results"
          }
        ]
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2025-10-22T15:22:06.964Z",
      "taskCount": 13,
      "completedCount": 3,
      "tags": [
        "master"
      ],
      "created": "2025-10-24T16:59:30.071Z",
      "description": "Tasks for master context"
    }
  }
}